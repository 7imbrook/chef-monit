{"tagline":"Chef cookbook for monit package","note":"Don't delete this file! It's used internally to help with page regeneration.","google":"UA-10172882-2","name":"chef-monit","body":"[![Build Status](https://secure.travis-ci.org/phlipper/chef-monit.png)](http://travis-ci.org/phlipper/chef-monit) [![Code Climate](https://codeclimate.com/badge.png)](https://codeclimate.com/github/phlipper/chef-monit)\r\n\r\n## Description\r\n\r\nInstalls the `monit` package from (http://mmonit.com/monit/).\r\n\r\n\r\n## Requirements\r\n\r\n### Supported Platforms\r\n\r\nThe following platforms are supported by this cookbook, meaning that the recipes run on these platforms without error:\r\n\r\n* Ubuntu\r\n* Debian\r\n* RedHat\r\n* CentOS\r\n* Scientific\r\n* Fedora\r\n* SUSE\r\n* Amazon\r\n\r\n\r\n## Recipes\r\n\r\n* `monit` - The default recipe. Sets up the service definition and default checks.\r\n\r\n\r\n## Resources\r\n\r\n### `monit_monitrc`\r\n\r\nThe following will create a monitrc configuration:\r\n\r\n```ruby\r\nmonit_monitrc \"ssh\" do\r\n  variables({ category: \"system\" })\r\nend\r\n```\r\n\r\nThe `name` parameter must match a file located in your templates directory. In the example above, this would be `ssh.monitrc.erb`.\r\n\r\nThe `custom_variables` option within the block is optional, and can contain a list of key-value pairs to assign within your template.\r\n\r\n\r\n## Usage\r\n\r\nThis cookbook installs the monit components if not present, and pulls updates if they are installed on the system.\r\n\r\n\r\n## Attributes\r\n\r\n```ruby\r\n# How frequently the monit daemon polls for changes.\r\ndefault[\"monit\"][\"polling_frequency\"] = 20\r\n\r\n# Use syslog for logging instead of a logfile.\r\ndefault[\"monit\"][\"use_syslog\"]        = true\r\n\r\n# If not using syslog, the log file that monit will use.\r\ndefault[\"monit\"][\"logfile\"]           = \"/var/log/monit.log\"\r\n\r\n# Email address that will be notified of events.\r\ndefault[\"monit\"][\"alert_email\"]       = \"root@localhost\"\r\n\r\n# Enable the web interface and define credentials.\r\ndefault[\"monit\"][\"web_interface\"] = {\r\n  :enable  => true,\r\n  :port    => 2812,\r\n  :address => \"localhost\",\r\n  :allow   => [\"localhost\", \"admin:b1gbr0th3r\"]\r\n}\r\n\r\n# Email settings that will be used for notification of events.\r\ndefault[\"monit\"][\"mail\"] = {\r\n  :hostname => \"localhost\",\r\n  :port     => 25,\r\n  :username => nil,\r\n  :password => nil,\r\n  :from     => \"monit@$HOST\",\r\n  :subject  => \"$SERVICE $EVENT at $DATE\",\r\n  :message  => \"Monit $ACTION $SERVICE at $DATE on $HOST,\\n\\nDutifully,\\nMonit\",\r\n  :tls      => false,\r\n  :timeout  => 30\r\n}\r\n\r\ncase platform\r\nwhen \"redhat\", \"centos\", \"fedora\"\r\n  default[\"monit\"][\"main_config_path\"] = \"/etc/monit.conf\"\r\n  default[\"monit\"][\"includes_dir\"]     = \"/etc/monit.d\"\r\nelse\r\n  default[\"monit\"][\"main_config_path\"] = \"/etc/monit/monitrc\"\r\n  default[\"monit\"][\"includes_dir\"]     = \"/etc/monit/conf.d\"\r\nend\r\n```\r\n\r\n\r\n## Contributors\r\n\r\nMany thanks go to the following [contributors](https://github.com/phlipper/chef-monit/graphs/contributors) who have helped to make this cookbook even better:\r\n\r\n* **[@werdan](https://github.com/werdan)**\r\n    * add support for redhat-flavored systems\r\n* **[@auser](https://github.com/auser)**\r\n    * add missing metadata\r\n* **[@arrowcircle](https://github.com/arrowcircle)**\r\n    * update syntax to be Ruby 1.8-compatible\r\n\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Added some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request\r\n\r\n\r\n## License\r\n\r\n**chef-monit**\r\n\r\n* Freely distributable and licensed under the [MIT license](http://phlipper.mit-license.org/2011-2012/license.html).\r\n* Copyright (c) 2011-2012 Phil Cohen (github@phlippers.net) [![endorse](http://api.coderwall.com/phlipper/endorsecount.png)](http://coderwall.com/phlipper)\r\n* http://phlippers.net/\r\n"}